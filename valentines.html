<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Will you be my valentine?</title>
  <style>
    :root{
      --bg0:#08070a;
      --bg1:#12070c;
      --burg:#5a0f2a;
      --pink:#ff7ab6;
      --pink2:#ff9fca;
      --red:#ff2f66;
      --ink:#f3e7ef;

      --shadow2: 0 14px 30px rgba(0,0,0,.38);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: "Times New Roman", Times, Georgia, "Noto Serif KR", serif;
      color: var(--ink);
      background:
        radial-gradient(900px 650px at 18% 10%, rgba(255,159,202,.22) 0%, rgba(255,159,202,0) 60%),
        radial-gradient(900px 650px at 88% 22%, rgba(90,15,42,.55) 0%, rgba(90,15,42,0) 62%),
        radial-gradient(1100px 800px at 50% 120%, rgba(255,122,182,.14) 0%, rgba(255,122,182,0) 60%),
        linear-gradient(180deg, var(--bg0) 0%, var(--bg1) 45%, #07060a 100%);
      overflow:hidden;
    }
    body::before{
      content:"";
      position:fixed; inset:-10%;
      background: radial-gradient(circle at 50% 30%, rgba(0,0,0,0) 0%, rgba(0,0,0,.55) 68%, rgba(0,0,0,.8) 100%);
      pointer-events:none;
      z-index:0;
    }

    /* HEART-SHAPED floating blobs */
    .blob{
      position:absolute;
      width:300px; height:280px;
      pointer-events:none;
      z-index:0;
      filter: drop-shadow(0 20px 55px rgba(0,0,0,.55));
      opacity:.55;
      animation: floaty 7.5s ease-in-out infinite;
    }
    .blob svg{ width:100%; height:100%; display:block; }
    .blob.b1{ left:-110px; top:30px; --r:-10deg; animation-delay: .0s;}
    .blob.b2{ right:-140px; top:110px; width:360px; height:330px; opacity:.45; --r:12deg; animation-delay: 1.2s;}
    .blob.b3{ left: 10%; bottom:-170px; width:420px; height:380px; opacity:.35; --r:-6deg; animation-delay: .6s;}
    @keyframes floaty{
      0%,100%{ transform: translateY(0) rotate(var(--r, 0deg)) scale(1);}
      50%{ transform: translateY(-18px) rotate(calc(var(--r, 0deg) * -1)) scale(1.03);}
    }

    .wrap{
      height:100%;
      display:grid;
      place-items:center;
      padding: 22px;
      position:relative;
      z-index:1;
    }

    .card{
      width:min(860px, 94vw);
      border-radius: 28px;
      background: linear-gradient(180deg, rgba(20,10,14,.72) 0%, rgba(12,8,12,.66) 100%);
      box-shadow: var(--shadow2);
      border: 1px solid rgba(255,122,182,.18);
      backdrop-filter: blur(10px);
      padding: clamp(22px, 5vw, 40px);
      position:relative;
      overflow:hidden;
    }

    .sprinkles{
      position:absolute; inset:-50px -55px auto auto;
      width:240px;height:240px;
      transform: rotate(14deg);
      opacity:.18;
      pointer-events:none;
      background:
        radial-gradient(circle at 15% 20%, rgba(255,47,102,.55) 0 8px, transparent 9px),
        radial-gradient(circle at 60% 30%, rgba(255,122,182,.45) 0 7px, transparent 8px),
        radial-gradient(circle at 35% 70%, rgba(255,159,202,.45) 0 6px, transparent 7px),
        radial-gradient(circle at 75% 75%, rgba(90,15,42,.65) 0 8px, transparent 9px);
      filter: blur(.3px);
    }

    h1{
      margin: 0 0 10px;
      font-size: clamp(30px, 4.8vw, 52px);
      letter-spacing: .3px;
      text-align:center;
      line-height:1.12;
      color: rgba(255,255,255,.92);
      text-shadow: 0 18px 40px rgba(0,0,0,.5);
    }

    .sub{
      text-align:center;
      margin: 0 auto 18px;
      font-size: clamp(14px, 2.6vw, 18px);
      opacity:.86;
      color: rgba(243,231,239,.88);
    }

    .row{
      display:flex;
      gap: 14px;
      justify-content:center;
      align-items:center;
      flex-wrap:wrap;
      margin-top: 18px;
    }

    .btn{
      position:relative;
      border:0;
      border-radius: 999px;
      padding: 14px 24px;
      font-size: 18px;
      cursor:pointer;
      user-select:none;
      transition: transform .22s ease, box-shadow .22s ease, filter .22s ease;
      min-width: 140px;
      display:inline-flex;
      justify-content:center;
      align-items:center;
      gap:10px;
      outline: none;
      font-family: inherit;
      letter-spacing: .2px;
    }
    .btn:active{ transform: translateY(1px) scale(.98); }
    .btn::before{
      content:"";
      position:absolute;
      inset: 2px 2px auto 2px;
      height: 44%;
      border-radius: 999px;
      background: linear-gradient(180deg, rgba(255,255,255,.28), rgba(255,255,255,.06));
      pointer-events:none;
      mix-blend-mode: screen;
    }

    .btn-yes{
      background: linear-gradient(180deg, #ff6aa7 0%, #ff2f66 100%);
      color: #fff;
      text-shadow: 0 1px 0 rgba(0,0,0,.18);
      box-shadow: 0 18px 34px rgba(255,47,102,.22), 0 10px 22px rgba(0,0,0,.25);
    }
    .btn-yes:hover{ filter: brightness(1.03); }

    .btn-no{
      background: linear-gradient(180deg, rgba(90,15,42,.55) 0%, rgba(43,8,20,.85) 100%);
      color: rgba(255,255,255,.88);
      border: 1px solid rgba(255,122,182,.22);
      box-shadow: 0 14px 28px rgba(0,0,0,.35);
    }
    .btn-no:hover{
      filter: brightness(1.05);
      transform: translateY(-1px);
    }

    .hint{
      margin-top: 14px;
      text-align:center;
      font-size: 13px;
      opacity:.65;
      color: rgba(243,231,239,.72);
    }

    .screen{ display:none; }
    .screen.active{ display:block; }

    /* GAME OVER */
    .gameover{
      text-align:center;
      padding: clamp(18px, 4vw, 30px);
    }
    .gameover h2{
      margin: 0 0 8px;
      font-size: clamp(34px, 6vw, 64px);
      color: #ff2f66;
      text-shadow: 0 14px 40px rgba(255,47,102,.18), 0 22px 60px rgba(0,0,0,.7);
      letter-spacing: .6px;
    }
    .go-sub{
      color: rgba(255,255,255,.78);
      opacity: 1;
    }
    body.gameover-mode{
      background:
        radial-gradient(900px 650px at 20% 20%, rgba(255,122,182,.18) 0%, rgba(255,122,182,0) 60%),
        radial-gradient(900px 650px at 85% 25%, rgba(90,15,42,.75) 0%, rgba(90,15,42,0) 62%),
        linear-gradient(180deg, #050509 0%, #09070c 55%, #050509 100%) !important;
    }
    body.gameover-mode .card{
      background: linear-gradient(180deg, rgba(10,6,10,.78) 0%, rgba(8,6,10,.74) 100%);
      border: 1px solid rgba(255,47,102,.22);
      box-shadow: 0 22px 70px rgba(0,0,0,.7);
    }
    .btn-try{
      background: linear-gradient(180deg, #ff6aa7 0%, #ff2f66 100%);
      color: #fff;
      margin-top: 14px;
      box-shadow: 0 18px 36px rgba(255,47,102,.18), 0 12px 24px rgba(0,0,0,.35);
    }

    /* YAY */
    .yay{
      text-align:center;
      padding: clamp(10px, 2vw, 22px);
    }
    .yay h2{
      margin: 0 0 10px;
      font-size: clamp(34px, 6vw, 60px);
      color: #ff9fca;
      text-shadow: 0 18px 50px rgba(255,159,202,.16), 0 22px 60px rgba(0,0,0,.6);
      letter-spacing: .5px;
    }

    /* ‚úÖ YAY ÌôîÎ©¥: LP+AudioÎ•º "Í∞ÄÏö¥Îç∞"Î°ú (Í∏∞Ï°¥ 2Ïó¥ Î†àÏù¥ÏïÑÏõÉ Ï†úÍ±∞) */
    .yayGrid{
      display:grid;
      grid-template-columns: 1fr;      /* 1 column */
      justify-items:center;            /* center */
      gap: 18px;
      margin-top: 8px;
    }

    /* LP record */
    .lpWrap{
      display:grid;
      justify-items:center;
      width: min(420px, 86vw); /* Ï§ëÏïôÏóêÏÑú Î≥¥Í∏∞ Ï¢ãÍ≤å ÏÇ¥Ïßù ÎÑìÌûò */
    }
    .lpStage{
      position:relative;
      width: 260px;
      height: 260px;
      display:grid;
      place-items:center;
      margin-bottom: 14px;
    }
    .vinyl{
      width: 230px;
      height: 230px;
      border-radius: 50%;
      background:
        radial-gradient(circle at 50% 50%, rgba(255,255,255,.06) 0 18px, transparent 18px),
        radial-gradient(circle at 50% 50%, rgba(0,0,0,.0) 0 58px, rgba(0,0,0,.15) 65px, rgba(0,0,0,0) 75px),
        repeating-radial-gradient(circle, rgba(255,255,255,.06) 0 1px, rgba(255,255,255,0) 1px 6px),
        radial-gradient(circle at 30% 25%, rgba(255,159,202,.18), rgba(90,15,42,.22) 55%, rgba(0,0,0,.95) 88%);
      box-shadow: inset 0 0 25px rgba(0,0,0,.8), 0 22px 55px rgba(0,0,0,.6);
      position:relative;
      transform: rotate(0deg);
    }
    .vinyl.playing{ animation: spin 2.8s linear infinite; }
    @keyframes spin{ to{ transform: rotate(360deg); } }

    .vinyl::after{
      content:"";
      position:absolute;
      inset: 50%;
      width: 10px; height: 10px;
      transform: translate(-50%,-50%);
      border-radius:50%;
      background: rgba(255,255,255,.75);
      box-shadow: 0 0 0 3px rgba(0,0,0,.45);
      opacity:.95;
    }
    .label{
      position:absolute;
      inset: 50%;
      width: 82px; height: 82px;
      transform: translate(-50%,-50%);
      border-radius:50%;
      background:
        radial-gradient(circle at 35% 30%, rgba(255,255,255,.35), rgba(255,255,255,0) 55%),
        linear-gradient(145deg, rgba(255,122,182,.95), rgba(90,15,42,.92));
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: inset 0 0 16px rgba(0,0,0,.45);
      display:grid;
      place-items:center;
      color: rgba(255,255,255,.92);
      font-size: 12px;
      letter-spacing: .4px;
      text-align:center;
      padding: 10px;
    }
    .tonearm{
      position:absolute;
      right: 6px;
      top: 20px;
      width: 120px;
      height: 120px;
      transform-origin: 18px 18px;
      transform: rotate(-22deg);
      opacity:.92;
      transition: transform .9s ease;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.55));
    }
    .tonearm.playing{ transform: rotate(-2deg); }

/* ‚úÖ Audio theme: Îçî Ìà¨Î™Ö + Í≤ÄÏ†ï Î≤†Ïù¥Ïä§ + ÌïëÌÅ¨/Î≤ÑÍ±¥Îîî Ìè¨Ïù∏Ìä∏ */
    /* Ï†ÑÏ≤¥ Ïò§ÎîîÏò§ Î∞ïÏä§ */
    audio{
      width: 100%;
      max-width: 360px;
      border-radius: 18px;
      background: transparent;
      opacity: .9;
      filter: drop-shadow(0 20px 40px rgba(0,0,0,.7));
    }

    /* Chrome / Edge Ìå®ÎÑê */
    audio::-webkit-media-controls-panel{
      background:
        linear-gradient(135deg,
          rgba(10,6,10,.85),
          rgba(35,8,18,.88),
          rgba(60,10,28,.85)
        );
      border-radius: 18px;
      border: 1px solid rgba(255,122,182,.15);
      backdrop-filter: blur(12px);
    }

    /* ‚ñ∂ Ïû¨ÏÉùÎ≤ÑÌäº */
    audio::-webkit-media-controls-play-button{
      filter: invert(1) brightness(.85);
      opacity: .9;
    }

    /* üîä Î≥ºÎ•® Î≤ÑÌäº */
    audio::-webkit-media-controls-mute-button{
      filter: invert(1) brightness(.8);
      opacity: .8;
    }

    /* ÏãúÍ∞Ñ ÌÖçÏä§Ìä∏ */
    audio::-webkit-media-controls-current-time-display,
    audio::-webkit-media-controls-time-remaining-display{
      color: rgba(255,182,210,.8);
      font-family: "Times New Roman", serif;
      text-shadow: 0 1px 0 rgba(0,0,0,.6);
    }

    /* ‚è≥ ÌÉÄÏûÑÎùºÏù∏ */
    audio::-webkit-media-controls-timeline{
      filter: brightness(.55) saturate(1.3) hue-rotate(330deg);
      opacity: .85;
    }

    /* üîâ Î≥ºÎ•® Ïä¨ÎùºÏù¥Îçî */
    audio::-webkit-media-controls-volume-slider{
      filter: brightness(.55) saturate(1.3) hue-rotate(330deg);
      opacity: .8;
    }

    /* Firefox fallback */
    audio{
      accent-color: #ff2f66;
    }


    canvas#confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index: 60;
    }

    @media (max-width: 420px){
      .btn{ min-width: 130px; font-size: 17px; padding: 13px 20px; }
      .lpStage{ width: 240px; height: 240px; }
      .vinyl{ width: 210px; height: 210px; }
    }
  </style>
</head>

<body>
  <!-- heart blobs (Î∞∞Í≤Ω ÌïòÌä∏Îäî Í∑∏ÎåÄÎ°ú!) -->
  <div class="blob b1">
    <svg viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <radialGradient id="hb1" cx="30%" cy="25%" r="75%">
          <stop offset="0%" stop-color="rgba(255,255,255,.55)"/>
          <stop offset="45%" stop-color="rgba(255,122,182,.20)"/>
          <stop offset="75%" stop-color="rgba(90,15,42,.28)"/>
          <stop offset="100%" stop-color="rgba(0,0,0,0)"/>
        </radialGradient>
      </defs>
      <path d="M100 165 C30 120, 20 78, 48 54 C70 35, 92 46, 100 60 C108 46, 130 35, 152 54 C180 78, 170 120, 100 165Z" fill="url(#hb1)"/>
    </svg>
  </div>

  <div class="blob b2">
    <svg viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <radialGradient id="hb2" cx="30%" cy="25%" r="75%">
          <stop offset="0%" stop-color="rgba(255,255,255,.45)"/>
          <stop offset="40%" stop-color="rgba(255,159,202,.18)"/>
          <stop offset="78%" stop-color="rgba(255,47,102,.18)"/>
          <stop offset="100%" stop-color="rgba(0,0,0,0)"/>
        </radialGradient>
      </defs>
      <path d="M100 165 C30 120, 20 78, 48 54 C70 35, 92 46, 100 60 C108 46, 130 35, 152 54 C180 78, 170 120, 100 165Z" fill="url(#hb2)"/>
    </svg>
  </div>

  <div class="blob b3">
    <svg viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <radialGradient id="hb3" cx="30%" cy="25%" r="75%">
          <stop offset="0%" stop-color="rgba(255,255,255,.35)"/>
          <stop offset="45%" stop-color="rgba(90,15,42,.26)"/>
          <stop offset="78%" stop-color="rgba(255,122,182,.14)"/>
          <stop offset="100%" stop-color="rgba(0,0,0,0)"/>
        </radialGradient>
      </defs>
      <path d="M100 165 C30 120, 20 78, 48 54 C70 35, 92 46, 100 60 C108 46, 130 35, 152 54 C180 78, 170 120, 100 165Z" fill="url(#hb3)"/>
    </svg>
  </div>

  <canvas id="confetti"></canvas>

  <div class="wrap">
    <div class="card">
      <div class="sprinkles"></div>

      <!-- MAIN SCREEN -->
      <section id="screenMain" class="screen active">
        <h1>Will you be my valentine? üíã</h1>


        <div class="row">
          <button id="btnYes" class="btn btn-yes" aria-label="Yes">Yes ‚ô°</button>
          <button id="btnNo" class="btn btn-no" aria-label="No">No</button>
        </div>

      </section>

      <!-- YAY SCREEN -->
      <section id="screenYay" class="screen">
        <div class="yay">
          <h2>Yayyy!   </h2>
          <p class="hint">üíå Evelyn Kim :&gt; hehe</p>

          <!-- ‚úÖ Ïó¨Í∏∞ÏÑú LP ÏòÜÏóê ÏûàÎçò ÌïòÌä∏(heartWrap)Îßå Ï†úÍ±∞ÌïòÍ≥†, Ï§ëÏïôÏóê LP+Ïò§ÎîîÏò§Îßå Îë† -->
          <div class="yayGrid">
            <div class="lpWrap">
              <div class="lpStage">
                <div id="vinyl" class="vinyl">
                  <div class="label">Cigarettes After Sex<br/>Sunsetz</div>
                </div>

                <svg id="tonearm" class="tonearm" viewBox="0 0 140 140" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <defs>
                    <linearGradient id="arm" x1="0" y1="0" x2="1" y2="1">
                      <stop offset="0" stop-color="rgba(255,255,255,.35)"/>
                      <stop offset="1" stop-color="rgba(255,255,255,.10)"/>
                    </linearGradient>
                  </defs>
                  <circle cx="18" cy="18" r="12" fill="rgba(255,255,255,.16)" stroke="rgba(255,255,255,.22)"/>
                  <rect x="24" y="14" width="90" height="10" rx="6" fill="url(#arm)"/>
                  <rect x="102" y="10" width="26" height="18" rx="6" fill="rgba(255,255,255,.16)"/>
                  <rect x="120" y="26" width="10" height="36" rx="5" fill="rgba(255,255,255,.14)"/>
                  <rect x="114" y="60" width="24" height="18" rx="6" fill="rgba(255,255,255,.18)"/>
                </svg>
              </div>

              <!-- Put your mp3 in the SAME folder as this html and name it exactly: sunsetz.mp3 -->
              <audio id="bgMusic" preload="auto" controls>
                <source src="sunsetz.mp3" type="audio/mpeg" />
                Your browser does not support the audio element.
              </audio>
            
            </div>
          </div>

          
        </div>
      </section>

      <!-- GAME OVER SCREEN -->
      <section id="screenGameOver" class="screen">
        <div class="gameover">
          <h2>Game Over.</h2>
          <p class="sub go-sub">Try again!</p>
          <button id="btnTryAgain" class="btn btn-try">Retry ‚ô°</button>
        </div>
      </section>
    </div>
  </div>

  <script>
    const body = document.body;

    const btnYes = document.getElementById("btnYes");
    const btnNo  = document.getElementById("btnNo");

    const screenMain = document.getElementById("screenMain");
    const screenYay  = document.getElementById("screenYay");
    const screenGameOver = document.getElementById("screenGameOver");
    const btnTryAgain = document.getElementById("btnTryAgain");

    const vinyl = document.getElementById("vinyl");
    const tonearm = document.getElementById("tonearm");
    const music = document.getElementById("bgMusic");

    // Hover only changes text
    btnNo.addEventListener("mouseenter", () => { btnNo.textContent = "Are you sure?"; });
    btnNo.addEventListener("mouseleave", () => { btnNo.textContent = "No"; });

    // No click after "Are you sure?" => Game Over
    btnNo.addEventListener("click", () => {
      if (btnNo.textContent.includes("Are you sure")) {
        screenMain.classList.remove("active");
        screenYay.classList.remove("active");
        screenGameOver.classList.add("active");
        body.classList.add("gameover-mode");

        stopYayMedia();
        stopConfetti();
      }
    });

    // Retry
    btnTryAgain.addEventListener("click", () => {
      body.classList.remove("gameover-mode");
      screenGameOver.classList.remove("active");
      screenYay.classList.remove("active");
      screenMain.classList.add("active");
      btnNo.textContent = "No";

      stopYayMedia();
      stopConfetti();
    });

    // Yes => Yay + confetti + LP spin + music play
    btnYes.addEventListener("click", () => {
      body.classList.remove("gameover-mode");
      screenGameOver.classList.remove("active");
      screenMain.classList.remove("active");
      screenYay.classList.add("active");

      startYayMedia();
      burstConfetti();
    });

    function startYayMedia(){
      vinyl.classList.add("playing");
      tonearm.classList.add("playing");

      music.currentTime = 0;
      music.play().catch(() => {
        // Mobile may require the user to press play; controls are visible anyway.
      });
    }

    function stopYayMedia(){
      vinyl.classList.remove("playing");
      tonearm.classList.remove("playing");
      try{
        music.pause();
        music.currentTime = 0;
      }catch(e){}
    }

    // Confetti (hearts only)
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d", { alpha: true });

    function resize(){
      canvas.width  = window.innerWidth * devicePixelRatio;
      canvas.height = window.innerHeight * devicePixelRatio;
      ctx.setTransform(devicePixelRatio, 0, 0, devicePixelRatio, 0, 0);
    }
    window.addEventListener("resize", resize);
    resize();

    let confettiParticles = [];
    let confettiRunning = false;

    function rand(min,max){ return Math.random()*(max-min)+min; }

    function makeParticle(){
      return {
        x: rand(0, window.innerWidth),
        y: rand(-40, -10),
        vx: rand(-1.2, 1.2),
        vy: rand(2.0, 4.2),
        r: rand(7, 11),
        rot: rand(0, Math.PI*2),
        vr: rand(-0.12, 0.12),
        color: ["#ff2f66","#ff7ab6","#ff9fca","#5a0f2a","#ffd1e6"][Math.floor(rand(0,5))],
        life: rand(100, 160)
      };
    }

    function drawHeart(x,y,s,color,rot){
      ctx.save();
      ctx.translate(x,y);
      ctx.rotate(rot);
      ctx.scale(s/12, s/12);
      ctx.beginPath();
      ctx.moveTo(0, 3);
      ctx.bezierCurveTo(0, -3, -6, -3, -6, 2);
      ctx.bezierCurveTo(-6, 6, 0, 9, 0, 12);
      ctx.bezierCurveTo(0, 9, 6, 6, 6, 2);
      ctx.bezierCurveTo(6, -3, 0, -3, 0, 3);
      ctx.closePath();
      ctx.fillStyle = color;
      ctx.fill();
      ctx.restore();
    }

    function tick(){
      if (!confettiRunning) return;
      ctx.clearRect(0,0,window.innerWidth, window.innerHeight);

      confettiParticles.forEach(p => {
        p.x += p.vx;
        p.y += p.vy;
        p.vy += 0.02;
        p.rot += p.vr;
        p.life -= 1;
        drawHeart(p.x, p.y, p.r*1.9, p.color, p.rot);
      });

      confettiParticles = confettiParticles.filter(p => p.life > 0 && p.y < window.innerHeight + 40);

      if (confettiParticles.length > 0){
        requestAnimationFrame(tick);
      } else {
        confettiRunning = false;
        ctx.clearRect(0,0,window.innerWidth, window.innerHeight);
      }
    }

    function burstConfetti(){
      confettiParticles = [];
      const count = Math.floor(Math.min(220, 120 + window.innerWidth/6));
      for (let i=0;i<count;i++) confettiParticles.push(makeParticle());
      confettiRunning = true;
      requestAnimationFrame(tick);
    }

    function stopConfetti(){
      confettiParticles = [];
      confettiRunning = false;
      ctx.clearRect(0,0,window.innerWidth, window.innerHeight);
    }
  </script>
</body>
</html>
